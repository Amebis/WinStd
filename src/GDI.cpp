/*
    SPDX-License-Identifier: GPL-3.0-or-later
    Copyright © 1991-2021 Amebis
    Copyright © 2016 GÉANT
*/

#include "PCH.h"


//////////////////////////////////////////////////////////////////////
// winstd::dc
//////////////////////////////////////////////////////////////////////

winstd::dc::~dc()
{
    if (m_h != invalid)
        DeleteDC(m_h);
}


void winstd::dc::free_internal() noexcept
{
    DeleteDC(m_h);
}


//////////////////////////////////////////////////////////////////////
// winstd::window_dc
//////////////////////////////////////////////////////////////////////

winstd::window_dc::~window_dc()
{
    if (m_h != invalid)
        ReleaseDC(m_hwnd, m_h);
}


void winstd::window_dc::free_internal() noexcept
{
    ReleaseDC(m_hwnd, m_h);
}


//////////////////////////////////////////////////////////////////////
// winstd::dc_selector
//////////////////////////////////////////////////////////////////////

winstd::dc_selector::~dc_selector()
{
    if (m_orig)
        SelectObject(m_hdc, m_orig);
}
